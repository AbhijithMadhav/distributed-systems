<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="935px" height="487px" viewBox="-0.5 -0.5 935 487" content="&lt;mxfile host=&quot;Electron&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/24.7.8 Chrome/128.0.6613.36 Electron/32.0.1 Safari/537.36&quot; version=&quot;24.7.8&quot;&gt;&#10;  &lt;diagram name=&quot;Page-1&quot; id=&quot;KOZTDa-_kmkIhW0j4bMi&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;1779&quot; dy=&quot;642&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;827&quot; pageHeight=&quot;1169&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-5&quot; value=&quot;Client generating&amp;lt;div&amp;gt;count event&amp;lt;/div&amp;gt;&quot; style=&quot;html=1;verticalLabelPosition=top;align=center;labelBackgroundColor=#ffffff;verticalAlign=bottom;strokeWidth=2;strokeColor=#0080F0;shadow=0;dashed=0;shape=mxgraph.ios7.icons.smartphone;labelPosition=center;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;36&quot; y=&quot;235.5&quot; width=&quot;18&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-7&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;teiUVTvHn2xfDKX8zLNi-8&quot; target=&quot;teiUVTvHn2xfDKX8zLNi-29&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;711&quot; y=&quot;255.5&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-8&quot; value=&quot;partitioned by event&quot; style=&quot;sketch=0;aspect=fixed;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=top;verticalAlign=bottom;align=center;fillColor=#00188D;shape=mxgraph.azure.queue_generic&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;571&quot; y=&quot;241.5&quot; width=&quot;90&quot; height=&quot;27&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-10&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;teiUVTvHn2xfDKX8zLNi-30&quot; target=&quot;teiUVTvHn2xfDKX8zLNi-31&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;616&quot; y=&quot;395.5&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;350&quot; y=&quot;395.5&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-24&quot; value=&quot;&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;teiUVTvHn2xfDKX8zLNi-5&quot; target=&quot;teiUVTvHn2xfDKX8zLNi-27&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;116&quot; y=&quot;250.5&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;54&quot; y=&quot;250.5&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;136&quot; y=&quot;250.5&quot; /&gt;&#10;              &lt;mxPoint x=&quot;136&quot; y=&quot;390.5&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-25&quot; value=&quot;POST /event/{event-id}&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;teiUVTvHn2xfDKX8zLNi-24&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.2614&quot; y=&quot;3&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;250&quot; y=&quot;-40&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-50&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;teiUVTvHn2xfDKX8zLNi-27&quot; target=&quot;teiUVTvHn2xfDKX8zLNi-51&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;466&quot; y=&quot;240.5&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;306&quot; y=&quot;390.5&quot; /&gt;&#10;              &lt;mxPoint x=&quot;306&quot; y=&quot;255.5&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-27&quot; value=&quot;Gateway load&amp;amp;nbsp;&amp;lt;div&amp;gt;balancer&amp;lt;/div&amp;gt;&quot; style=&quot;fillColor=#28A8E0;verticalLabelPosition=bottom;sketch=0;html=1;strokeColor=#ffffff;verticalAlign=top;align=center;points=[[0.145,0.145,0],[0.5,0,0],[0.855,0.145,0],[1,0.5,0],[0.855,0.855,0],[0.5,1,0],[0.145,0.855,0],[0,0.5,0]];pointerEvents=1;shape=mxgraph.cisco_safe.compositeIcon;bgIcon=ellipse;resIcon=mxgraph.cisco_safe.capability.load_balancer;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;212&quot; y=&quot;369&quot; width=&quot;43&quot; height=&quot;43&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-41&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;teiUVTvHn2xfDKX8zLNi-29&quot; target=&quot;teiUVTvHn2xfDKX8zLNi-30&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-29&quot; value=&quot;Batching consumer cluster&quot; style=&quot;sketch=0;aspect=fixed;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;align=left;fillColor=#00188D;shape=mxgraph.mscae.enterprise.cluster_server&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;721&quot; y=&quot;230&quot; width=&quot;40&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-31&quot; value=&quot;Top k service cluster&quot; style=&quot;sketch=0;aspect=fixed;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=top;verticalAlign=bottom;align=center;fillColor=#00188D;shape=mxgraph.mscae.enterprise.cluster_server&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;471&quot; y=&quot;365.5&quot; width=&quot;40&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-32&quot; value=&quot;Top k results db&quot; style=&quot;strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;711&quot; y=&quot;500.5&quot; width=&quot;60&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-36&quot; value=&quot;Lightweight&amp;amp;nbsp;&amp;lt;div&amp;gt;top-k view service&amp;lt;/div&amp;gt;&quot; style=&quot;sketch=0;aspect=fixed;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;fillColor=#00188D;shape=mxgraph.mscae.enterprise.application_server&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;483.8&quot; y=&quot;510.5&quot; width=&quot;34.4&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-37&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;teiUVTvHn2xfDKX8zLNi-27&quot; target=&quot;teiUVTvHn2xfDKX8zLNi-36&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;227.5&quot; y=&quot;412&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;306&quot; y=&quot;390.5&quot; /&gt;&#10;              &lt;mxPoint x=&quot;306&quot; y=&quot;530.5&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-45&quot; value=&quot;GET /topK/{result-id}&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;teiUVTvHn2xfDKX8zLNi-37&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.3313&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;70&quot; y=&quot;78&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-39&quot; value=&quot;Admin client&amp;lt;div&amp;gt;querying for accurate results&amp;lt;/div&amp;gt;&quot; style=&quot;sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=top;verticalAlign=bottom;align=center;fillColor=#515151;shape=mxgraph.mscae.system_center.admin_console&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;20&quot; y=&quot;512.5&quot; width=&quot;50&quot; height=&quot;36&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-30&quot; value=&quot;HDFS cluster&quot; style=&quot;sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=#232F3E;fillColor=#ffffff;dashed=0;verticalLabelPosition=middle;verticalAlign=middle;align=left;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.hdfs_cluster;labelPosition=right;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;711&quot; y=&quot;360.5&quot; width=&quot;60&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-42&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; target=&quot;teiUVTvHn2xfDKX8zLNi-31&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;249&quot; y=&quot;390.5&quot; as=&quot;sourcePoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-49&quot; value=&quot;POST /topk&amp;lt;div&amp;gt;Response : 203 with result-id&amp;lt;/div&amp;gt;&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;teiUVTvHn2xfDKX8zLNi-42&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.036&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;30&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-44&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=classic;startFill=1;endArrow=none;endFill=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;teiUVTvHn2xfDKX8zLNi-36&quot; target=&quot;teiUVTvHn2xfDKX8zLNi-32&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-47&quot; value=&quot;&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;teiUVTvHn2xfDKX8zLNi-39&quot; target=&quot;teiUVTvHn2xfDKX8zLNi-27&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;76&quot; y=&quot;390.5&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;206&quot; y=&quot;390.5&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;136&quot; y=&quot;530.5&quot; /&gt;&#10;              &lt;mxPoint x=&quot;136&quot; y=&quot;390.5&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-51&quot; value=&quot;Count service cluster&quot; style=&quot;sketch=0;aspect=fixed;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;fillColor=#00188D;shape=mxgraph.mscae.enterprise.cluster_server&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;481&quot; y=&quot;230&quot; width=&quot;40&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-52&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;teiUVTvHn2xfDKX8zLNi-51&quot; target=&quot;teiUVTvHn2xfDKX8zLNi-8&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-53&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;teiUVTvHn2xfDKX8zLNi-31&quot; target=&quot;teiUVTvHn2xfDKX8zLNi-32&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;teiUVTvHn2xfDKX8zLNi-54&quot; value=&quot;&amp;lt;font style=&amp;quot;font-size: 24px;&amp;quot;&amp;gt;A batch processing based top-k leaderboard&amp;amp;nbsp;&amp;lt;/font&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;30&quot; y=&quot;100&quot; width=&quot;550&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;"><defs/><g><g data-cell-id="0"><g data-cell-id="1"><g data-cell-id="teiUVTvHn2xfDKX8zLNi-5"><g><rect x="66" y="135.5" width="18" height="30" fill="rgb(255, 255, 255)" stroke="#0080f0" stroke-width="2" pointer-events="all"/><path d="M 66 137.9 L 84 137.9 M 66 161 L 84 161 M 74.1 163.25 L 75.9 163.25" fill="none" stroke="#0080f0" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 133px; margin-left: 75px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: #ffffff; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Client generating<div>count event</div></div></div></div></foreignObject><text x="75" y="133" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Cli...</text></switch></g></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-7"><g><path d="M 691 155 L 744.63 155" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 749.88 155 L 742.88 158.5 L 744.63 155 L 742.88 151.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-8"><g><rect x="601" y="141.5" width="90" height="27" fill="none" stroke="none" pointer-events="all"/><path d="M 601.1 143.51 C 601.44 142.31 602.56 141.5 603.82 141.54 L 682.83 141.54 L 691 155.38 L 682.83 168.5 L 603.64 168.5 C 602.88 168.46 602.18 168.11 601.7 167.53 C 601.21 166.95 601 166.2 601.1 165.47 Z M 602.92 165.2 C 603.13 166.11 603.97 166.74 604.91 166.71 L 682.01 166.71 L 689.18 155.38 L 682.01 143.24 L 604.91 143.24 C 604.09 143.15 603.29 143.58 602.92 144.31 Z M 605.64 147.88 C 605.72 147.06 606.35 146.4 607.18 146.28 L 627.34 146.28 C 628.17 146.4 628.81 147.06 628.89 147.88 L 628.89 162.52 C 628.66 163.23 628.01 163.73 627.25 163.77 L 607.37 163.77 C 606.61 163.73 605.96 163.23 605.73 162.52 Z M 608.09 151.27 L 608.09 161.63 L 626.62 161.63 L 626.62 151.1 L 618.08 157.43 C 617.47 157.82 616.69 157.82 616.08 157.43 Z M 617.17 155.47 L 626.25 148.51 L 608.18 148.51 Z M 631.43 147.88 C 631.47 147.14 631.98 146.5 632.7 146.28 L 653.13 146.28 C 653.86 146.5 654.36 147.14 654.4 147.88 L 654.4 162.52 C 654.23 163.13 653.75 163.6 653.13 163.77 L 632.7 163.77 C 632.08 163.6 631.6 163.13 631.43 162.52 Z M 633.7 151.18 L 633.7 161.63 L 652.22 161.63 L 652.13 151.18 L 643.78 157.43 C 643.13 157.91 642.25 157.91 641.6 157.43 Z M 642.78 155.47 L 651.95 148.51 L 633.7 148.51 Z M 657.04 147.88 C 657.11 147.06 657.75 146.4 658.58 146.28 L 678.65 146.28 C 679.48 146.4 680.12 147.06 680.19 147.88 L 680.19 162.16 C 680.15 162.64 679.91 163.07 679.54 163.38 C 679.16 163.68 678.68 163.82 678.2 163.77 L 658.58 163.77 C 657.86 163.69 657.25 163.2 657.04 162.52 Z M 659.22 151.18 L 659.22 161.63 L 677.74 161.63 L 677.74 151.18 L 669.21 157.43 C 668.64 157.75 667.95 157.75 667.39 157.43 Z M 668.39 155.47 L 677.47 148.51 L 659.31 148.51 Z" fill="#00188d" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 139px; margin-left: 646px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">partitioned by event</div></div></div></foreignObject><text x="646" y="139" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">partitioned by...</text></switch></g></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-10"><g><path d="M 741 290.5 L 547.37 290.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 542.12 290.5 L 549.12 287 L 547.37 290.5 L 549.12 294 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-24"><g><path d="M 84 150.5 L 166 150.5 L 166 290.5 L 235.63 290.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 240.88 290.5 L 233.88 294 L 235.63 290.5 L 233.88 287 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-25"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 139px; margin-left: 420px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">POST /event/{event-id}</div></div></div></foreignObject><text x="420" y="142" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">POST /event/{event-id}</text></switch></g></g></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-50"><g><path d="M 285 290.5 L 336 290.5 L 336 155 L 504.63 155" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 509.88 155 L 502.88 158.5 L 504.63 155 L 502.88 151.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-27"><g><rect x="242" y="269" width="43" height="43" fill="none" stroke="none" pointer-events="all"/><path d="M 242 290.5 C 242 278.67 251.68 269 263.5 269 C 275.39 269 285 278.67 285 290.5 C 285 302.38 275.39 312 263.5 312 C 251.68 312 242 302.38 242 290.5 Z M 245.47 289.47 L 245.47 291.58 L 251.67 291.58 L 251.67 293.62 L 254.49 290.51 L 251.67 287.38 L 251.67 289.47 L 245.47 289.47 L 245.47 289.47 Z M 263.51 298.48 C 267.72 298.48 271.12 295.1 271.12 290.85 C 271.12 286.65 267.72 283.22 263.51 283.22 C 259.3 283.22 255.87 286.65 255.87 290.85 C 255.87 295.1 259.3 298.48 263.51 298.48 Z M 263.51 284.92 C 260.2 284.92 257.53 287.59 257.53 290.85 C 257.53 294.15 260.2 296.83 263.51 296.83 C 266.8 296.83 269.49 294.15 269.49 290.85 C 269.49 287.59 266.8 284.92 263.51 284.92 Z M 275.39 281.14 C 276.38 282.79 276.38 282.79 276.38 282.79 C 271.13 285.73 271.13 285.73 271.13 285.73 C 271.62 286.21 271.91 286.82 272.23 287.38 C 277.41 284.51 277.41 284.51 277.41 284.51 C 278.38 286.16 278.38 286.16 278.38 286.16 C 279.45 282.18 279.45 282.18 279.45 282.18 L 275.39 281.14 Z M 281.53 290.56 C 278.71 287.38 278.71 287.38 278.71 287.38 C 278.71 289.47 278.71 289.47 278.71 289.47 C 273.22 289.47 273.22 289.47 273.22 289.47 C 273.31 289.81 273.31 290.15 273.31 290.51 C 273.31 290.9 273.31 291.24 273.22 291.58 C 278.71 291.58 278.71 291.58 278.71 291.58 C 278.71 293.62 278.71 293.62 278.71 293.62 L 281.53 290.56 Z M 279.45 298.82 C 278.38 294.88 278.38 294.88 278.38 294.88 C 277.41 296.54 277.41 296.54 277.41 296.54 C 272.23 293.62 272.23 293.62 272.23 293.62 C 271.91 294.22 271.62 294.78 271.13 295.32 C 276.38 298.21 276.38 298.21 276.38 298.21 C 275.39 299.86 275.39 299.86 275.39 299.86 L 279.45 298.82 Z" fill="#28a8e0" stroke="none" pointer-events="all"/><ellipse cx="263.5" cy="290.5" rx="21.07" ry="21.07" fill="#ffffff" stroke="none" pointer-events="all"/><rect x="242" y="269" width="43" height="43" fill="none" stroke="none" pointer-events="all"/><path d="M 242 290.5 C 242 278.67 251.68 269 263.5 269 C 275.39 269 285 278.67 285 290.5 C 285 302.38 275.39 312 263.5 312 C 251.68 312 242 302.38 242 290.5 Z M 245.47 289.47 L 245.47 291.58 L 251.67 291.58 L 251.67 293.62 L 254.49 290.51 L 251.67 287.38 L 251.67 289.47 L 245.47 289.47 L 245.47 289.47 Z M 263.51 298.48 C 267.72 298.48 271.12 295.1 271.12 290.85 C 271.12 286.65 267.72 283.22 263.51 283.22 C 259.3 283.22 255.87 286.65 255.87 290.85 C 255.87 295.1 259.3 298.48 263.51 298.48 Z M 263.51 284.92 C 260.2 284.92 257.53 287.59 257.53 290.85 C 257.53 294.15 260.2 296.83 263.51 296.83 C 266.8 296.83 269.49 294.15 269.49 290.85 C 269.49 287.59 266.8 284.92 263.51 284.92 Z M 275.39 281.14 C 276.38 282.79 276.38 282.79 276.38 282.79 C 271.13 285.73 271.13 285.73 271.13 285.73 C 271.62 286.21 271.91 286.82 272.23 287.38 C 277.41 284.51 277.41 284.51 277.41 284.51 C 278.38 286.16 278.38 286.16 278.38 286.16 C 279.45 282.18 279.45 282.18 279.45 282.18 L 275.39 281.14 Z M 281.53 290.56 C 278.71 287.38 278.71 287.38 278.71 287.38 C 278.71 289.47 278.71 289.47 278.71 289.47 C 273.22 289.47 273.22 289.47 273.22 289.47 C 273.31 289.81 273.31 290.15 273.31 290.51 C 273.31 290.9 273.31 291.24 273.22 291.58 C 278.71 291.58 278.71 291.58 278.71 291.58 C 278.71 293.62 278.71 293.62 278.71 293.62 L 281.53 290.56 Z M 279.45 298.82 C 278.38 294.88 278.38 294.88 278.38 294.88 C 277.41 296.54 277.41 296.54 277.41 296.54 C 272.23 293.62 272.23 293.62 272.23 293.62 C 271.91 294.22 271.62 294.78 271.13 295.32 C 276.38 298.21 276.38 298.21 276.38 298.21 C 275.39 299.86 275.39 299.86 275.39 299.86 L 279.45 298.82 Z" fill="#28a8e0" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 319px; margin-left: 264px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Gateway load <div>balancer</div></div></div></div></foreignObject><text x="264" y="331" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Gateway...</text></switch></g></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-41"><g><path d="M 771 180 L 771 254.13" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 771 259.38 L 767.5 252.38 L 771 254.13 L 774.5 252.38 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-29"><g><rect x="751" y="130" width="40" height="50" fill="none" stroke="none" pointer-events="all"/><path d="M 751.04 169.41 L 751.04 131.91 C 751 131.44 751.14 130.98 751.44 130.62 C 751.74 130.26 752.17 130.04 752.63 130 L 768.04 130 C 769.1 130 769.97 130.84 770.03 131.91 L 770.03 138.63 L 762.92 138.63 C 761.23 138.91 759.91 140.25 759.64 141.95 L 759.64 159.77 L 753.87 159.77 L 753.87 161.73 L 759.64 161.73 L 759.64 163.68 L 753.87 163.68 L 753.87 165.54 L 759.64 165.54 L 759.64 169.41 Z M 761.53 142.45 C 761.47 141.51 762.15 140.7 763.07 140.59 L 778.48 140.59 C 779.56 140.53 780.48 141.36 780.56 142.45 L 780.56 180 L 761.53 180 Z M 753.87 137.63 L 767.19 137.62 L 767.19 135.77 L 753.87 135.77 Z M 764.41 146.42 L 764.41 148.27 L 777.63 148.27 L 777.63 146.42 Z M 777.73 170.41 L 764.31 170.41 L 764.31 172.32 L 777.73 172.32 Z M 764.31 174.23 L 764.31 176.18 L 777.73 176.18 L 777.73 173.98 Z M 791 169.41 L 782.45 169.41 L 782.45 165.54 L 788.12 165.54 L 788.12 163.68 L 782.45 163.68 L 782.45 161.73 L 788.17 161.73 L 788.17 159.77 L 782.45 159.77 L 782.45 141.95 C 782.11 140.01 780.43 138.6 778.48 138.63 L 772.01 138.63 L 772.01 131.91 C 772.06 130.89 772.85 130.07 773.85 130 L 789.29 130.15 C 790.24 130.16 791 130.95 791 131.91 Z M 788.12 137.68 L 788.12 135.77 L 774.75 135.77 L 774.75 137.68 Z" fill="#00188d" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 155px; margin-left: 793px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Batching consumer cluster</div></div></div></foreignObject><text x="793" y="159" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">Batchin...</text></switch></g></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-31"><g><rect x="501" y="265.5" width="40" height="50" fill="none" stroke="none" pointer-events="all"/><path d="M 501.04 304.91 L 501.04 267.41 C 501 266.94 501.14 266.48 501.44 266.12 C 501.74 265.76 502.17 265.54 502.63 265.5 L 518.04 265.5 C 519.1 265.5 519.97 266.34 520.03 267.41 L 520.03 274.13 L 512.92 274.13 C 511.23 274.41 509.91 275.75 509.64 277.45 L 509.64 295.27 L 503.87 295.27 L 503.87 297.23 L 509.64 297.23 L 509.64 299.18 L 503.87 299.18 L 503.87 301.04 L 509.64 301.04 L 509.64 304.91 Z M 511.53 277.95 C 511.47 277.01 512.15 276.2 513.07 276.09 L 528.48 276.09 C 529.56 276.03 530.48 276.86 530.56 277.95 L 530.56 315.5 L 511.53 315.5 Z M 503.87 273.13 L 517.19 273.12 L 517.19 271.27 L 503.87 271.27 Z M 514.41 281.92 L 514.41 283.77 L 527.63 283.77 L 527.63 281.92 Z M 527.73 305.91 L 514.31 305.91 L 514.31 307.82 L 527.73 307.82 Z M 514.31 309.73 L 514.31 311.68 L 527.73 311.68 L 527.73 309.48 Z M 541 304.91 L 532.45 304.91 L 532.45 301.04 L 538.12 301.04 L 538.12 299.18 L 532.45 299.18 L 532.45 297.23 L 538.17 297.23 L 538.17 295.27 L 532.45 295.27 L 532.45 277.45 C 532.11 275.51 530.43 274.1 528.48 274.13 L 522.01 274.13 L 522.01 267.41 C 522.06 266.39 522.85 265.57 523.85 265.5 L 539.29 265.65 C 540.24 265.66 541 266.45 541 267.41 Z M 538.12 273.18 L 538.12 271.27 L 524.75 271.27 L 524.75 273.18 Z" fill="#00188d" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 263px; margin-left: 521px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Top k service cluster</div></div></div></foreignObject><text x="521" y="263" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Top k...</text></switch></g></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-32"><g><path d="M 741 450.5 L 741 410.5 C 741 404.98 754.43 400.5 771 400.5 C 787.57 400.5 801 404.98 801 410.5 L 801 450.5 C 801 456.02 787.57 460.5 771 460.5 C 754.43 460.5 741 456.02 741 450.5 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 741 410.5 C 741 416.02 754.43 420.5 771 420.5 C 787.57 420.5 801 416.02 801 410.5" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 62px; height: 1px; padding-top: 431px; margin-left: 803px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Top k results db</div></div></div></foreignObject><text x="803" y="434" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">Top k resu...</text></switch></g></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-36"><g><rect x="513.8" y="410.5" width="34.4" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 513.83 450.5 L 513.83 412.58 C 513.8 411.51 514.62 410.6 515.69 410.5 L 531.74 410.5 C 532.76 410.67 533.49 411.56 533.45 412.58 L 533.45 433.85 L 524.62 433.85 L 524.62 440.73 L 516.79 440.73 L 516.79 442.76 L 524.62 442.76 L 524.62 444.62 L 516.79 444.62 L 516.79 446.61 L 524.62 446.61 L 524.62 450.5 Z M 516.74 418.28 L 530.49 418.28 L 530.49 416.29 L 516.74 416.34 Z M 526.07 435.39 L 548.2 435.39 L 548.2 450 L 526.07 450 Z M 527.26 439.64 L 527.26 448.78 L 532.22 448.78 L 532.22 439.64 Z M 533.49 448.78 L 546.97 448.78 L 546.97 439.64 L 533.49 439.64 Z M 537.14 447.56 L 537.14 446.38 L 543.83 446.38 L 543.83 447.54 Z M 543.83 445.7 L 537.14 445.7 L 537.14 444.53 L 543.83 444.53 Z M 537.14 443.89 L 537.14 442.67 L 543.83 442.67 L 543.83 443.89 Z M 543.83 442.08 L 537.14 442.08 L 537.14 440.86 L 543.83 440.86 Z" fill="#00188d" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 458px; margin-left: 531px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Lightweight <div>top-k view service</div></div></div></div></foreignObject><text x="531" y="470" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Lightw...</text></switch></g></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-37"><g><path d="M 285 290.5 L 336 290.5 L 336 430.5 L 507.43 430.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 512.68 430.5 L 505.68 434 L 507.43 430.5 L 505.68 427 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-45"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 441px; margin-left: 407px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">GET /topK/{result-id}</div></div></div></foreignObject><text x="407" y="444" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">GET /topK/{result-id}</text></switch></g></g></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-39"><g><rect x="50" y="412.5" width="50" height="36" fill="none" stroke="none" pointer-events="all"/><path d="M 52.01 438.41 C 50.9 438.41 50 437.52 50 436.42 L 50 414.5 C 50 413.39 50.9 412.5 52.01 412.5 L 88.19 412.5 C 89.3 412.5 90.2 413.39 90.2 414.5 L 90.2 422.89 C 89.36 422.67 88.5 422.61 87.64 422.69 L 87.64 415 L 52.51 415 L 52.51 435.82 L 81.36 435.82 C 79.87 436.38 78.62 437.28 77.74 438.41 L 74.62 438.41 C 74.31 439.31 74.18 440.26 74.22 441.21 C 74.49 442.16 75.34 442.83 76.33 442.86 C 76.16 443.82 76.04 444.78 75.98 445.75 L 59.35 445.75 C 58.76 445.59 58.36 445.06 58.36 444.46 C 58.36 443.85 58.76 443.32 59.35 443.16 C 60.71 443.22 62.07 443.17 63.42 443.01 C 64.15 442.91 64.85 442.62 65.43 442.16 C 65.87 441.71 66.07 441.08 65.98 440.46 C 65.93 439.76 65.77 439.07 65.53 438.41 Z M 88.29 436.37 C 85.3 436.28 82.91 433.55 82.91 430.23 C 82.96 426.94 85.33 424.27 88.29 424.18 C 89.78 424.12 91.22 424.73 92.3 425.87 C 93.38 427 94 428.57 94.02 430.23 C 94.02 431.89 93.41 433.49 92.33 434.65 C 91.25 435.81 89.79 436.43 88.29 436.37 Z M 77.39 448.5 C 77.59 446.17 77.91 443.86 78.34 441.56 C 78.55 440.12 79.37 438.85 80.6 438.06 L 82.91 436.67 C 83.33 436.58 83.77 436.67 84.12 436.92 C 85.24 438.06 86.87 438.74 88.6 438.77 C 90.34 438.8 92 438.18 93.17 437.07 C 93.63 436.8 94.21 436.8 94.67 437.07 L 97.34 438.66 C 97.95 439.22 98.42 439.93 98.69 440.71 C 99.28 443.28 99.71 445.88 100 448.5 Z" fill="#515151" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 410px; margin-left: 75px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Admin client<div>querying for accurate results</div></div></div></div></foreignObject><text x="75" y="410" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Admin cl...</text></switch></g></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-30"><g><path d="M 741 260.5 L 801 260.5 L 801 320.5 L 741 320.5 Z" fill="#ffffff" stroke="none" pointer-events="all"/><path d="M 787.8 287.77 L 793.91 287.77 C 794.51 287.77 795 287.29 795 286.68 L 795 278.09 C 795 277.49 794.51 277 793.91 277 L 789.82 277 C 786.95 274.76 782.96 271.82 781.64 270.86 L 781.64 267.59 C 781.64 266.99 781.15 266.5 780.55 266.5 L 771.95 266.5 C 771.35 266.5 770.86 266.99 770.86 267.59 L 770.86 274.58 L 763.85 280.28 C 762.09 279.17 759.08 278.64 756.2 278.64 C 752.05 278.64 747.6 279.73 747.06 282.11 L 747 282.11 C 747 282.2 747.02 282.28 747.03 282.36 C 747.02 282.44 747 282.52 747 282.61 L 747 299.08 C 747 301.8 751.77 303.05 756.2 303.05 C 759.34 303.05 762.64 302.42 764.31 301.09 L 770.86 306.42 L 770.86 313.41 C 770.86 314.01 771.35 314.5 771.95 314.5 L 780.55 314.5 C 781.15 314.5 781.64 314.01 781.64 313.41 L 781.64 310.14 C 782.96 309.18 786.95 306.24 789.82 304 L 793.91 304 C 794.51 304 795 303.51 795 302.91 L 795 294.32 C 795 293.71 794.51 293.23 793.91 293.23 L 787.8 293.23 L 785.94 290.5 Z M 771.95 303.72 C 771.71 303.72 771.49 303.82 771.31 303.96 L 765.4 299.17 C 765.4 299.14 765.41 299.11 765.41 299.08 L 765.41 293.6 L 778.24 297.88 L 774.24 303.72 Z M 771.31 277.04 C 771.49 277.18 771.71 277.28 771.95 277.28 L 774.24 277.28 L 778.24 283.12 L 765.41 287.4 L 765.41 282.61 C 765.41 282.52 765.39 282.44 765.38 282.36 C 765.39 282.28 765.41 282.2 765.41 282.11 L 765.35 282.11 C 765.34 282.05 765.31 281.99 765.29 281.93 Z M 765.41 291.3 L 765.41 289.7 L 779.52 284.99 L 783.29 290.5 L 779.52 296.01 Z M 781.68 284.27 L 784.22 283.43 L 784.22 286.68 C 784.22 287.24 784.64 287.68 785.17 287.75 L 784.61 288.57 Z M 786.41 285.59 L 786.41 279.18 L 792.82 279.18 L 792.82 285.59 Z M 786.23 277 L 785.32 277 C 784.71 277 784.22 277.49 784.22 278.09 L 784.22 281.12 L 780.4 282.4 L 776.89 277.28 L 780.55 277.28 C 781.15 277.28 781.64 276.79 781.64 276.18 L 781.64 273.57 C 782.86 274.47 784.57 275.74 786.23 277 Z M 773.05 275.09 L 773.05 268.68 L 779.45 268.68 L 779.45 275.09 Z M 763.03 282.36 C 762.37 282.96 759.98 283.9 756.2 283.9 C 752.42 283.9 750.03 282.96 749.37 282.36 C 750.03 281.76 752.42 280.82 756.2 280.82 C 759.98 280.82 762.37 281.76 763.03 282.36 Z M 756.2 300.86 C 751.83 300.86 749.3 299.6 749.18 299.08 L 749.18 284.79 C 750.99 285.67 753.65 286.08 756.2 286.08 C 758.76 286.08 761.43 285.67 763.23 284.79 L 763.23 299.07 C 763.11 299.6 760.57 300.86 756.2 300.86 Z M 773.05 312.32 L 773.05 305.91 L 779.45 305.91 L 779.45 312.32 Z M 781.64 307.43 L 781.64 304.82 C 781.64 304.21 781.15 303.72 780.55 303.72 L 776.89 303.72 L 780.4 298.6 L 784.22 299.88 L 784.22 302.91 C 784.22 303.51 784.71 304 785.32 304 L 786.23 304 C 784.57 305.26 782.86 306.53 781.64 307.43 Z M 786.41 301.82 L 786.41 295.41 L 792.82 295.41 L 792.82 301.82 Z M 785.17 293.25 C 784.64 293.33 784.22 293.76 784.22 294.32 L 784.22 297.57 L 781.68 296.73 L 784.61 292.43 Z" fill="#232f3e" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 291px; margin-left: 803px;"><div data-drawio-colors="color: #232F3E; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(35, 47, 62); line-height: 1.2; pointer-events: all; white-space: nowrap;">HDFS cluster</div></div></div></foreignObject><text x="803" y="294" fill="#232F3E" font-family="&quot;Helvetica&quot;" font-size="12px">HDFS clust...</text></switch></g></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-42"><g><path d="M 279 290.5 L 390.5 291 L 494.63 290.53" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 499.88 290.51 L 492.9 294.04 L 494.63 290.53 L 492.87 287.04 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-49"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 291px; margin-left: 416px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">POST /topk<div>Response : 203 with result-id</div></div></div></div></foreignObject><text x="416" y="295" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">POST /topk...</text></switch></g></g></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-44"><g><path d="M 554.57 430.5 L 741 430.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 549.32 430.5 L 556.32 427 L 554.57 430.5 L 556.32 434 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-47"><g><path d="M 100 430.5 L 166 430.5 L 166 290.5 L 235.63 290.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 240.88 290.5 L 233.88 294 L 235.63 290.5 L 233.88 287 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-51"><g><rect x="511" y="130" width="40" height="50" fill="none" stroke="none" pointer-events="all"/><path d="M 511.04 169.41 L 511.04 131.91 C 511 131.44 511.14 130.98 511.44 130.62 C 511.74 130.26 512.17 130.04 512.63 130 L 528.04 130 C 529.1 130 529.97 130.84 530.03 131.91 L 530.03 138.63 L 522.92 138.63 C 521.23 138.91 519.91 140.25 519.64 141.95 L 519.64 159.77 L 513.87 159.77 L 513.87 161.73 L 519.64 161.73 L 519.64 163.68 L 513.87 163.68 L 513.87 165.54 L 519.64 165.54 L 519.64 169.41 Z M 521.53 142.45 C 521.47 141.51 522.15 140.7 523.07 140.59 L 538.48 140.59 C 539.56 140.53 540.48 141.36 540.56 142.45 L 540.56 180 L 521.53 180 Z M 513.87 137.63 L 527.19 137.62 L 527.19 135.77 L 513.87 135.77 Z M 524.41 146.42 L 524.41 148.27 L 537.63 148.27 L 537.63 146.42 Z M 537.73 170.41 L 524.31 170.41 L 524.31 172.32 L 537.73 172.32 Z M 524.31 174.23 L 524.31 176.18 L 537.73 176.18 L 537.73 173.98 Z M 551 169.41 L 542.45 169.41 L 542.45 165.54 L 548.12 165.54 L 548.12 163.68 L 542.45 163.68 L 542.45 161.73 L 548.17 161.73 L 548.17 159.77 L 542.45 159.77 L 542.45 141.95 C 542.11 140.01 540.43 138.6 538.48 138.63 L 532.01 138.63 L 532.01 131.91 C 532.06 130.89 532.85 130.07 533.85 130 L 549.29 130.15 C 550.24 130.16 551 130.95 551 131.91 Z M 548.12 137.68 L 548.12 135.77 L 534.75 135.77 L 534.75 137.68 Z" fill="#00188d" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 187px; margin-left: 531px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Count service cluster</div></div></div></foreignObject><text x="531" y="199" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Count...</text></switch></g></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-52"><g><path d="M 551 155 L 594.63 155" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 599.88 155 L 592.88 158.5 L 594.63 155 L 592.88 151.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-53"><g><path d="M 521 315.5 L 521 358 L 771 358 L 771 394.13" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 771 399.38 L 767.5 392.38 L 771 394.13 L 774.5 392.38 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g></g><g data-cell-id="teiUVTvHn2xfDKX8zLNi-54"><g><rect x="60" y="0" width="550" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 548px; height: 1px; padding-top: 15px; margin-left: 61px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;"><font style="font-size: 24px;">A batch processing based top-k leaderboard </font></div></div></div></foreignObject><text x="335" y="19" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">A batch processing based top-k leaderboard </text></switch></g></g></g></g></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>